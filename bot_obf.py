import base64; exec(base64.b64decode('IyBpbXBvcnQgdGtpbnRlciBhcyB0awojIGltcG9ydCByZXF1ZXN0cwojIGltcG9ydCB1cmxsaWIzCgojICMgVOG6r3QgY+G6o25oIGLDoW8gU1NMIChjaOG7iSBkw7luZyBjaG8gbcO0aSB0csaw4budbmcgdGjhu60gbmdoaeG7h20pCiMgdXJsbGliMy5kaXNhYmxlX3dhcm5pbmdzKHVybGxpYjMuZXhjZXB0aW9ucy5JbnNlY3VyZVJlcXVlc3RXYXJuaW5nKQoKIyBkZWYgbG9naW4odXNlcm5hbWUscGFzc3dvcmQpOgogICAgCiMgICAgIHVybCA9ICdodHRwczovL2hybXMuZXZuc3BjLnZuL2pfc3ByaW5nX3NlY3VyaXR5X2NoZWNrJwojICAgICBkYXRhID0gewojICAgICAgICAgJ2pfdXNlcm5hbWUnOiB1c2VybmFtZSwKIyAgICAgICAgICdqX3Bhc3N3b3JkJzogcGFzc3dvcmQKIyAgICAgfQoKIyAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KHVybCwgZGF0YT1kYXRhLCB2ZXJpZnk9RmFsc2UpCiMgICAgIHJldHVybiByZXNwb25zZS50ZXh0CgoKaW1wb3J0IHJlcXVlc3RzCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwCmltcG9ydCB1cmxsaWIzCgojIFThuq90IGPhuqNuaCBiw6FvIFNTTCAoY2jhu4kgZMO5bmcgY2hvIG3DtGkgdHLGsOG7nW5nIHRo4butIG5naGnhu4dtKQp1cmxsaWIzLmRpc2FibGVfd2FybmluZ3ModXJsbGliMy5leGNlcHRpb25zLkluc2VjdXJlUmVxdWVzdFdhcm5pbmcpCgpkZWYgbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKToKICAgIHVybCA9ICdodHRwczovL2hybXMuZXZuc3BjLnZuL2pfc3ByaW5nX3NlY3VyaXR5X2NoZWNrJwogICAgZGF0YSA9IHsKICAgICAgICAnal91c2VybmFtZSc6IHVzZXJuYW1lLAogICAgICAgICdqX3Bhc3N3b3JkJzogcGFzc3dvcmQKICAgIH0KICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdCh1cmwsIGRhdGE9ZGF0YSwgdmVyaWZ5PUZhbHNlKQogICAgcmV0dXJuIHJlc3BvbnNlLnRleHQKCmRlZiBsb2dpbl9wbWlzKHVzZXJuYW1lLCBwYXNzd29yZCk6CiAgICBzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICBsb2dpbl91cmwgPSAiaHR0cHM6Ly8xMC4xNzAuMjAuMjEvUE1JU19XZWIvdG1zTG9naW4uanNmIgogICAgcmVzcG9uc2UgPSBzZXNzaW9uLmdldChsb2dpbl91cmwsIHZlcmlmeT1GYWxzZSkKICAgIHNvdXAgPSBCZWF1dGlmdWxTb3VwKHJlc3BvbnNlLnRleHQsICJodG1sLnBhcnNlciIpCiAgICB2aWV3c3RhdGVfaW5wdXQgPSBzb3VwLmZpbmQoImlucHV0IiwgeyJuYW1lIjogImphdmF4LmZhY2VzLlZpZXdTdGF0ZSJ9KQogICAgdmlld3N0YXRlID0gdmlld3N0YXRlX2lucHV0WyJ2YWx1ZSJdIGlmIHZpZXdzdGF0ZV9pbnB1dCBlbHNlICIiCgogICAgcGF5bG9hZCA9IHsKICAgICAgICAiZm9ybU1haW4iOiAiZm9ybU1haW4iLAogICAgICAgICJmb3JtTWFpbjp0eHRVc2VyTmFtZSI6IHVzZXJuYW1lLAogICAgICAgICJmb3JtTWFpbjp0eHRQYXNzV29yZCI6IHBhc3N3b3JkLAogICAgICAgICJqYXZheC5mYWNlcy5WaWV3U3RhdGUiOiB2aWV3c3RhdGUsCiAgICAgICAgImZvcm1NYWluOmNtZExvZ2luIjogIsSQxINuZyBuaOG6rXAiLAogICAgICAgICJmb3JtTWFpbjp0eHRDYXB0Y2hhQ29kZSI6ICIiCiAgICB9CgogICAgbG9naW5fcmVzcG9uc2UgPSBzZXNzaW9uLnBvc3QobG9naW5fdXJsLCBkYXRhPXBheWxvYWQsIHZlcmlmeT1GYWxzZSkKICAgIHJldHVybiBsb2dpbl9yZXNwb25zZS50ZXh0CgoKCgoKCiMgLS0tLS0tY29kZSB0ZXN0LS0tLQojIGltcG9ydCByZXF1ZXN0cwojIGltcG9ydCB1cmxsaWIzCgojICMgVOG6r3QgY+G6o25oIGLDoW8gU1NMIChjaOG7iSBkw7luZyBjaG8gbcO0aSB0csaw4budbmcgdGjhu60gbmdoaeG7h20pCiMgdXJsbGliMy5kaXNhYmxlX3dhcm5pbmdzKHVybGxpYjMuZXhjZXB0aW9ucy5JbnNlY3VyZVJlcXVlc3RXYXJuaW5nKQoKIyBkZWYgbG9naW4odXNlciwgcGFzc3dvcmQpOgogICAKCiMgICAgICMgVVJMIMSRxINuZyBuaOG6rXAgKHRoZW8gdGjDtG5nIHRpbiBi4bqhbiDEkcOjIHjDoWMgxJHhu4tuaCkKIyAgICAgbG9naW5fdXJsID0gJ2h0dHBzOi8vaHJtcy5ldm5zcGMudm4val9zcHJpbmdfc2VjdXJpdHlfY2hlY2snCgojICAgICAjIFBheWxvYWQgxJHEg25nIG5o4bqtcAojICAgICBwYXlsb2FkID0gewojICAgICAgICAgJ2pfdXNlcm5hbWUnOiB1c2VyLAojICAgICAgICAgJ2pfcGFzc3dvcmQnOiBwYXNzd29yZAojICAgICB9CgogICAgCiAgICAKIyAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KGxvZ2luX3VybCwgZGF0YT1wYXlsb2FkLCB2ZXJpZnk9RmFsc2UpCiMgICAgIHJldHVybiByZXNwb25zZS50ZXh0CgojICMgVsOtIGThu6UgdGVzdCBow6BtIGxvZ2luIChjw7MgdGjhu4MgeMOzYSBob+G6t2MgY29tbWVudCBwaOG6p24gbsOgeSBraGkgdMOtY2ggaOG7o3AgdsOgbyBHVUkpCiMgaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKIyAgICAgaHRtbCA9IGxvZ2luKCdraG9hdGEuZHQnLCAnVGhAbmhiaW5oMScpCiMgICAgIGlmICdsb2dvdXQnIGluIGh0bWw6CiMgICAgICAgICBwcmludCgixJDEg25nIG5o4bqtcCB0aMOgbmggY8O0bmcsIHTDrG0gdGjhuqV5ICdsb2dvdXQnIikKIyAgICAgZWxzZToKIyAgICAgICAgIHByaW50KCLEkMSDbmcgbmjhuq1wIHRo4bqldCBi4bqhaSBob+G6t2Mga2jDtG5nIHTDrG0gdGjhuqV5ICdsb2dvdXQnIik=').decode())